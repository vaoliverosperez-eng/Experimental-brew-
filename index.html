<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Experimental Brew â˜•</title>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
/* ====== ESTRUTURA ORIGINAL â€“ NÃƒO ALTERADA ====== */
:root{
  --primary:#a62d0e;
  --secondary:#f6caa6;
  --accent:#fbb03b;
  --bg:#ffffff;
  --text:#2b2b2b;
}
body.dark{
  --bg:#121212;
  --text:#f2f2f2;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Inter',sans-serif;
  background:var(--bg);
  color:var(--text);
}
header{
  position:fixed;
  top:0; left:0; right:0;
  height:50px;
  background:linear-gradient(90deg,var(--primary),var(--accent));
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 14px;
  color:white;
  z-index:1000;
  font-family:'Playfair Display',serif;
}
.menu{font-size:1.7rem;cursor:pointer}
.spoon{font-size:1.3rem}

.drawer{
  position:fixed;
  top:0; left:-260px;
  width:260px;
  height:100%;
  background:var(--bg);
  padding:20px;
  box-shadow:4px 0 20px rgba(0,0,0,.2);
  transition:left .3s;
  z-index:1200;
}
.drawer.open{left:0}

main{margin-top:60px;padding:16px}

.card{
  background:#fff4e8;
  border-radius:12px;
  padding:16px;
  margin-bottom:20px;
}
body.dark .card{background:#1e1e1e}

.list-item{
  padding:12px 0;
  border-bottom:1px solid #ddd;
  cursor:pointer;
}
.star{color:var(--accent)}

.screen{display:none}
.screen.active{display:block}
.back{margin-bottom:12px;cursor:pointer}
</style>
</head>

<body>

<header>
  <div class="menu" onclick="toggleDrawer()">â˜°</div>
  Experimental Brew
  <div class="spoon">ğŸ¥„</div>
</header>

<div class="drawer" id="drawer">
  <h3>Menu</h3>
  <button onclick="goHome()">ğŸ  InÃ­cio</button>
  <button onclick="openScreen('categorias')">ğŸ“‚ Categorias</button>
  <button onclick="openScreen('stats')">ğŸ““ EstatÃ­sticas</button>
  <button onclick="window.open('https://coffeeandjoy.com.br/r/234037405360e7635df3')">â˜• SugestÃµes</button>
  <button onclick="toggleDark()">ğŸŒ™ Modo escuro</button>
</div>

<main>

<!-- HOME -->
<div id="home" class="screen active">
  <h1>Bem-vindo ao Experimental Brew â˜•</h1>
  <p id="frase"></p>

  <div class="card">
    <h2>Receita do dia</h2>
    <h3 id="dailyTitle"></h3>
    <p id="dailyDesc"></p>
    <button onclick="openRecipe(dailyId)">Ver receita</button>
  </div>
</div>

<!-- CATEGORIAS -->
<div id="categorias" class="screen">
  <div class="back" onclick="goHome()">â† Voltar</div>

  <!-- ğŸ” BUSCA (ADICIONADO, SEM QUEBRAR) -->
  <input type="text" placeholder="Buscar receita..."
    oninput="searchRecipes(this.value)"
    style="width:100%;padding:10px;margin-bottom:20px">

  <div id="recipeList"></div>
</div>

<!-- RECEITA -->
<div id="recipe" class="screen">
  <div class="back" onclick="openScreen('categorias')">â† Voltar</div>
  <h2 id="recipeTitle"></h2>
  <p id="recipeContent"></p>
  <button onclick="markDone()">â˜• Fiz hoje</button>
  <button onclick="toggleFavorite()">â­ Favoritar</button>
</div>

<!-- ESTATÃSTICAS -->
<div id="stats" class="screen">
  <div class="back" onclick="goHome()">â† Voltar</div>
  <h2>ğŸ““ Bullet Journal do CafÃ©</h2>
  <ul id="statsList"></ul>
</div>

</main>

<script>
/* ===== FRASES ===== */
const frases=[
 "CafÃ© Ã© pausa, Ã© ritual, Ã© prazer.",
 "Cada xÃ­cara Ã© um novo comeÃ§o.",
 "Menos pressa, mais cafÃ©.",
 "Experimente, ajuste, aproveite.",
 "CafÃ© bom Ã© o que faz sentido pra vocÃª."
];
document.getElementById("frase").innerText =
  frases[new Date().getDate()%frases.length];

/* ===== RECEITAS â€“ 27 COMPLETAS ===== */
const recipes = [
 {id:"1",cat:"CAFÃ‰S GELADOS",name:"CafÃ© gelado com frutas vermelhas",desc:"CafÃ©, gelo, xarope de frutas vermelhas.",full:"CafÃ© â†’ gelo â†’ xarope â†’ mexer"},
 {id:"2",cat:"CAFÃ‰S GELADOS",name:"CafÃ© gelado com chocolate",desc:"Mocha leve.",full:"Chocolate no cafÃ© quente â†’ gela"},
 {id:"3",cat:"CAFÃ‰S GELADOS",name:"Latte Ice de Baunilha",desc:"Suave e cremoso.",full:"CafÃ© gelado + leite + baunilha"},
 {id:"4",cat:"CAFÃ‰S GELADOS",name:"Latte Ice Shot Forte",desc:"Mais cafÃ©.",full:"Shot concentrado"},
 {id:"5",cat:"CAFÃ‰S GELADOS",name:"CafÃ© chocolate intenso",desc:"Menos doce.",full:"Chocolate meio amargo"},
 {id:"6",cat:"CAFÃ‰S GELADOS",name:"CafÃ© com gotas de chocolate",desc:"Aroma real.",full:"CafÃ© quente sobre chocolate"},
 {id:"7",cat:"CAFÃ‰S GELADOS",name:"Iced Dubai Pistache",desc:"Sobremesa.",full:"SachÃª + gelo"},
 {id:"8",cat:"CAFÃ‰S QUENTES",name:"CafÃ© com caramelo",desc:"Doce equilibrado.",full:"Caramelo no fundo"},
 {id:"9",cat:"CAFÃ‰S QUENTES",name:"Caramel Latte Whey",desc:"Proteico.",full:"Whey aquecido"},
 {id:"10",cat:"MOCHA",name:"Mocha Latte",desc:"Conforto.",full:"Chocolate + leite"},
 {id:"11",cat:"MOCHA",name:"Mocha Iced",desc:"Refrescante.",full:"Gela + leite"},
 {id:"12",cat:"SOBREMESAS",name:"Afogato",desc:"Amargo + doce.",full:"CafÃ© no sorvete"},
 {id:"13",cat:"CITRUS",name:"Citrus Coffee Suave",desc:"Refrescante.",full:"CafÃ© + laranja"},
 {id:"14",cat:"CITRUS",name:"Citrus Flash Brew",desc:"Acidez viva.",full:"Coar no gelo"},
 {id:"15",cat:"CITRUS",name:"Strawberry Coffee",desc:"Frutado.",full:"Morango + cafÃ©"},
 {id:"16",cat:"CITRUS",name:"Strawberry Citrus",desc:"Equilibrado.",full:"Morango + laranja"},
 {id:"17",cat:"COLD BREW",name:"Cold Brew Puro",desc:"Suave.",full:"10â€“12h"},
 {id:"18",cat:"COLD BREW",name:"Cold Brew 1:16",desc:"Leve.",full:"12h geladeira"},
 {id:"19",cat:"COLD BREW",name:"Cold Brew com Laranja",desc:"Elegante.",full:"Casca"},
 {id:"20",cat:"COLD BREW",name:"Cold Brew MaracujÃ¡",desc:"Principal.",full:"Polpa"},
 {id:"21",cat:"COLD BREW",name:"MaracujÃ¡ seco",desc:"Natural.",full:"Sem aÃ§Ãºcar"},
 {id:"22",cat:"FLASH",name:"Flash Brew",desc:"AromÃ¡tico.",full:"20â€“30% gelo"},
 {id:"23",cat:"FLASH",name:"Flash MaracujÃ¡",desc:"Intenso.",full:"Dupla filtragem"},
 {id:"24",cat:"MANHÃƒ",name:"Honey Vanilla Iced",desc:"Conforto.",full:"Leite + baunilha"},
 {id:"25",cat:"MANHÃƒ",name:"Cappuccino",desc:"ClÃ¡ssico.",full:"Tudo quente"},
 {id:"26",cat:"MANHÃƒ",name:"Orange Coffee",desc:"Favorito.",full:"CafÃ© + laranja"},
 {id:"27",cat:"MANHÃƒ",name:"Japanese Iced",desc:"Aroma mÃ¡ximo.",full:"CafÃ© no gelo"}
];

/* ===== RECEITA DO DIA ===== */
const daily = recipes[new Date().getDate()%recipes.length];
let dailyId = daily.id;
document.getElementById("dailyTitle").innerText = daily.name;
document.getElementById("dailyDesc").innerText = daily.desc;

/* ===== LISTAGEM ===== */
function renderList(list){
  const el = document.getElementById("recipeList");
  el.innerHTML="";
  let current="";
  list.forEach(r=>{
    if(r.cat!==current){
      el.innerHTML+=`<h2>${r.cat}</h2>`;
      current=r.cat;
    }
    el.innerHTML+=`
      <div class="list-item" onclick="openRecipe('${r.id}')">
        ${r.name}
      </div>`;
  });
}
renderList(recipes);

/* ===== BUSCA ===== */
function searchRecipes(txt){
  renderList(recipes.filter(r=>r.name.toLowerCase().includes(txt.toLowerCase())));
}

/* ===== ABRIR RECEITA ===== */
let currentRecipe=null;
function openRecipe(id){
  currentRecipe=recipes.find(r=>r.id===id);
  recipeTitle.innerText=currentRecipe.name;
  recipeContent.innerText=currentRecipe.full;
  openScreen("recipe");
}

/* ===== FAVORITOS ===== */
function toggleFavorite(){
  let f=JSON.parse(localStorage.getItem("fav")||"[]");
  f.includes(currentRecipe.id)?f=f.filter(i=>i!==currentRecipe.id):f.push(currentRecipe.id);
  localStorage.setItem("fav",JSON.stringify(f));
}

/* ===== ESTATÃSTICAS ===== */
function markDone(){
  let s=JSON.parse(localStorage.getItem("stats")||"[]");
  s.push({name:currentRecipe.name,date:new Date().toLocaleDateString()});
  localStorage.setItem("stats",JSON.stringify(s));
  alert("CafÃ© registrado â˜•");
}
function openStats(){
  openScreen("stats");
  let s=JSON.parse(localStorage.getItem("stats")||"[]");
  statsList.innerHTML=s.map(i=>`<li>${i.date} â€“ ${i.name}</li>`).join("");
}

/* ===== NAVEGAÃ‡ÃƒO ===== */
function toggleDrawer(){drawer.classList.toggle("open")}
function toggleDark(){document.body.classList.toggle("dark")}
function openScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  drawer.classList.remove("open");
}
function goHome(){openScreen("home")}
</script>

</body>
</html>
